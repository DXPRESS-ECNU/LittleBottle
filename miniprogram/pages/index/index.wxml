<!--index.wxml-->
<view class="container">
  <view class="bottle-grid"> 
    <view wx:for="{{bottles}}" wx:for-item="bt" wx:for-index="idx">
      <template is="bottle" data="{{...bt, idx: idx}}"></template>
    </view>
  </view>
</view>

<template name="bottle">
  <view>
    <view class="bottle" bindtap="updateBottle" data-index="{{idx}}">
      <image src="cloud://dxzsbottle-iu8cx.6478-dxzsbottle-iu8cx-1301327315/bottle.svg"     class="empty">
      </image>
      <image wx:if="{{1<=full}}" class="stuff1" src="../../bottles/1.png"></image>
      <image wx:if="{{2<=full}}" class="stuff2" src="../../bottles/1.png"></image>
      <image wx:if="{{3<=full}}" class="stuff3" src="../../bottles/1.png"></image>
      <image wx:if="{{4<=full}}" class="stuff4" src="../../bottles/1.png"></image>
      <image wx:if="{{5<=full}}" class="stuff5" src="../../bottles/1.png"></image>
    </view>
    <text class="name">{{name}}</text>
  </view>
</template>
<canvas style="width:1300px;height:4000px" canvas-id="bottleImg"></canvas>

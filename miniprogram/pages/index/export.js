"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Export = function () {
    var drawPic = function (context, url, quality) {
        var x = quality[0];
        var y = quality[1];
        var width = quality[2];
        var height = quality[3];
        wx.getImageInfo({
            src: url,
            success: function (res) {
                context.drawImage(res.path, x, y, width, height);
            },
            fail: function (res) {
                console.log(res.errMsg);
            }
        });
    };
    var drawText = function (context, text, quality) {
        var x = quality[0];
        var y = quality[1];
        var width = quality[2];
        context.setFontSize(30);
        context.fillText(text, x, y, width);
    };
    var context = wx.createCanvasContext('bottleImg');
    var bottleUrl = "cloud://dxzsbottle-iu8cx.6478-dxzsbottle-iu8cx-1301327315/bottle.png";
    var picUrl = "cloud://dxzsbottle-iu8cx.6478-dxzsbottle-iu8cx-1301327315/figs/1.png";
    var bottleHeight = 310;
    var bottleWidth = 200;
    var titleHeight = 300;
    var picWidth = 180;
    for (var y = 1; y <= 6; ++y) {
        for (var x = 1; x <= 5; ++x) {
            drawPic(context, bottleUrl, [50 * x + bottleWidth * (x - 1), (bottleHeight + 100) * (y - 1) + titleHeight, bottleWidth, bottleHeight]);
            drawPic(context, picUrl, [50 * x + bottleWidth * (x - 1) + 5, (bottleHeight + 100) * (y - 1) + titleHeight + 100, picWidth, picWidth]);
            drawText(context, "有四个字", [50 * x + bottleWidth * (x - 1) + 40, (bottleHeight + 50) * y + 50 * (y - 1) + titleHeight, 150]);
        }
    }
    context.draw(true, function () {
        setTimeout(function () {
            wx.canvasToTempFilePath({
                canvasId: "bottleImg",
                quality: 1,
                success: function (res) {
                    wx.saveImageToPhotosAlbum({
                        filePath: res.tempFilePath,
                        success: function () {
                            console.log("成功保存");
                        },
                        fail: function (res) {
                            console.log(res.errMsg);
                        }
                    });
                }
            });
        }, 3000);
    });
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXhwb3J0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiZXhwb3J0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQWEsUUFBQSxNQUFNLEdBQUM7SUFDbEIsSUFBTSxPQUFPLEdBQUcsVUFBQyxPQUF3QyxFQUFFLEdBQVcsRUFBRSxPQUFpQjtRQUN2RixJQUFJLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUE7UUFDbEIsSUFBSSxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFBO1FBQ2xCLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQTtRQUN0QixJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUE7UUFDdkIsRUFBRSxDQUFDLFlBQVksQ0FBQztZQUNkLEdBQUcsRUFBRSxHQUFHO1lBQ1IsT0FBTyxFQUFFLFVBQVUsR0FBRztnQkFDcEIsT0FBTyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFBO1lBRWxELENBQUM7WUFDRCxJQUFJLEVBQUUsVUFBVSxHQUFHO2dCQUNqQixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQTtZQUN6QixDQUFDO1NBQ0YsQ0FBQyxDQUFBO0lBQ0osQ0FBQyxDQUFBO0lBQ0QsSUFBTSxRQUFRLEdBQUcsVUFBQyxPQUF3QyxFQUFFLElBQVksRUFBRSxPQUFpQjtRQUN6RixJQUFJLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUE7UUFDbEIsSUFBSSxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFBO1FBQ2xCLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQTtRQUN0QixPQUFPLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQyxDQUFBO1FBQ3ZCLE9BQU8sQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUE7SUFFckMsQ0FBQyxDQUFBO0lBQ0QsSUFBTSxPQUFPLEdBQUcsRUFBRSxDQUFDLG1CQUFtQixDQUFDLFdBQVcsQ0FBQyxDQUFBO0lBQ25ELElBQU0sU0FBUyxHQUFHLHNFQUFzRSxDQUFBO0lBQ3hGLElBQU0sTUFBTSxHQUFHLHNFQUFzRSxDQUFBO0lBQ3JGLElBQU0sWUFBWSxHQUFHLEdBQUcsQ0FBQTtJQUN4QixJQUFNLFdBQVcsR0FBRyxHQUFHLENBQUE7SUFDdkIsSUFBTSxXQUFXLEdBQUcsR0FBRyxDQUFBO0lBQ3ZCLElBQU0sUUFBUSxHQUFHLEdBQUcsQ0FBQTtJQUlwQixLQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFDO1FBQ3pCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUU7WUFHM0IsT0FBTyxDQUFDLE9BQU8sRUFBRSxTQUFTLEVBQUUsQ0FBQyxFQUFFLEdBQUMsQ0FBQyxHQUFDLFdBQVcsR0FBQyxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLFlBQVksR0FBQyxHQUFHLENBQUMsR0FBQyxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsR0FBQyxXQUFXLEVBQUUsV0FBVyxFQUFFLFlBQVksQ0FBQyxDQUFDLENBQUE7WUFDdEgsT0FBTyxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLEdBQUMsQ0FBQyxHQUFDLFdBQVcsR0FBQyxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsR0FBQyxDQUFDLEVBQUUsQ0FBQyxZQUFZLEdBQUMsR0FBRyxDQUFDLEdBQUMsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLEdBQUMsV0FBVyxHQUFDLEdBQUcsRUFBRSxRQUFRLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQTtZQUVsSCxRQUFRLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsR0FBQyxDQUFDLEdBQUMsV0FBVyxHQUFDLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxHQUFDLEVBQUUsRUFBRSxDQUFDLFlBQVksR0FBQyxFQUFFLENBQUMsR0FBQyxDQUFDLEdBQUMsRUFBRSxHQUFDLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxHQUFDLFdBQVcsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFBO1NBQ3RHO0tBQ0Y7SUFDRCxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRTtRQUNqQixVQUFVLENBQUM7WUFDVCxFQUFFLENBQUMsb0JBQW9CLENBQUM7Z0JBQ3RCLFFBQVEsRUFBRSxXQUFXO2dCQUNyQixPQUFPLEVBQUUsQ0FBQztnQkFDVixPQUFPLFlBQUMsR0FBRztvQkFDVCxFQUFFLENBQUMsc0JBQXNCLENBQUM7d0JBQ3hCLFFBQVEsRUFBRSxHQUFHLENBQUMsWUFBWTt3QkFDMUIsT0FBTzs0QkFDTCxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFBO3dCQUNyQixDQUFDO3dCQUNELElBQUksWUFBQyxHQUFHOzRCQUNOLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFBO3dCQUN6QixDQUFDO3FCQUNGLENBQUMsQ0FBQTtnQkFDSixDQUFDO2FBQ0YsQ0FBQyxDQUFBO1FBQ0osQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFBO0lBQ1IsQ0FBQyxDQUFDLENBQUE7QUFDTixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgRXhwb3J0PSgpOiB2b2lkID0+e1xyXG4gIGNvbnN0IGRyYXdQaWMgPSAoY29udGV4dDogV2VjaGF0TWluaXByb2dyYW0uQ2FudmFzQ29udGV4dCwgdXJsOiBzdHJpbmcsIHF1YWxpdHk6IG51bWJlcltdKTogdm9pZCA9PntcclxuICAgIGxldCB4ID0gcXVhbGl0eVswXVxyXG4gICAgbGV0IHkgPSBxdWFsaXR5WzFdXHJcbiAgICBsZXQgd2lkdGggPSBxdWFsaXR5WzJdXHJcbiAgICBsZXQgaGVpZ2h0ID0gcXVhbGl0eVszXVxyXG4gICAgd3guZ2V0SW1hZ2VJbmZvKHtcclxuICAgICAgc3JjOiB1cmwsXHJcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShyZXMucGF0aCwgeCwgeSwgd2lkdGgsIGhlaWdodClcclxuICAgICAgICAvL2NvbnRleHQuZHJhdyh0cnVlKVxyXG4gICAgICB9LFxyXG4gICAgICBmYWlsOiBmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2cocmVzLmVyck1zZylcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcbiAgY29uc3QgZHJhd1RleHQgPSAoY29udGV4dDogV2VjaGF0TWluaXByb2dyYW0uQ2FudmFzQ29udGV4dCwgdGV4dDogc3RyaW5nLCBxdWFsaXR5OiBudW1iZXJbXSk6IHZvaWQgPT57XHJcbiAgICBsZXQgeCA9IHF1YWxpdHlbMF1cclxuICAgIGxldCB5ID0gcXVhbGl0eVsxXVxyXG4gICAgbGV0IHdpZHRoID0gcXVhbGl0eVsyXVxyXG4gICAgY29udGV4dC5zZXRGb250U2l6ZSgzMClcclxuICAgIGNvbnRleHQuZmlsbFRleHQodGV4dCwgeCwgeSwgd2lkdGgpXHJcbiAgICAvL2NvbnRleHQuZHJhdyh0cnVlKVxyXG4gIH1cclxuICBjb25zdCBjb250ZXh0ID0gd3guY3JlYXRlQ2FudmFzQ29udGV4dCgnYm90dGxlSW1nJylcclxuICBjb25zdCBib3R0bGVVcmwgPSBcImNsb3VkOi8vZHh6c2JvdHRsZS1pdThjeC42NDc4LWR4enNib3R0bGUtaXU4Y3gtMTMwMTMyNzMxNS9ib3R0bGUucG5nXCJcclxuICBjb25zdCBwaWNVcmwgPSBcImNsb3VkOi8vZHh6c2JvdHRsZS1pdThjeC42NDc4LWR4enNib3R0bGUtaXU4Y3gtMTMwMTMyNzMxNS9maWdzLzEucG5nXCJcclxuICBjb25zdCBib3R0bGVIZWlnaHQgPSAzMTBcclxuICBjb25zdCBib3R0bGVXaWR0aCA9IDIwMFxyXG4gIGNvbnN0IHRpdGxlSGVpZ2h0ID0gMzAwXHJcbiAgY29uc3QgcGljV2lkdGggPSAxODBcclxuXHJcbiAgLy9jb250ZXh0LnJlY3QoMCwgMCwgKVxyXG5cclxuICBmb3IobGV0IHkgPSAxOyB5IDw9IDY7ICsreSl7XHJcbiAgICBmb3IgKGxldCB4ID0gMTsgeCA8PSA1OyArK3gpIHtcclxuICAgICAgLy90b2RvIOagh+mimFxyXG4gICAgICAvL+eUu+eTtuWtkFxyXG4gICAgICBkcmF3UGljKGNvbnRleHQsIGJvdHRsZVVybCwgWzUwKngrYm90dGxlV2lkdGgqKHgtMSksIChib3R0bGVIZWlnaHQrMTAwKSooeS0xKSt0aXRsZUhlaWdodCwgYm90dGxlV2lkdGgsIGJvdHRsZUhlaWdodF0pXHJcbiAgICAgIGRyYXdQaWMoY29udGV4dCwgcGljVXJsLCBbNTAqeCtib3R0bGVXaWR0aCooeC0xKSs1LCAoYm90dGxlSGVpZ2h0KzEwMCkqKHktMSkrdGl0bGVIZWlnaHQrMTAwLCBwaWNXaWR0aCwgcGljV2lkdGhdKVxyXG4gICAgICAvL+eTtuWtkOS4i+eahOWtl1xyXG4gICAgICBkcmF3VGV4dChjb250ZXh0LCBcIuacieWbm+S4quWtl1wiLCBbNTAqeCtib3R0bGVXaWR0aCooeC0xKSs0MCwgKGJvdHRsZUhlaWdodCs1MCkqeSs1MCooeS0xKSt0aXRsZUhlaWdodCwgMTUwXSlcclxuICAgIH1cclxuICB9XHJcbiAgY29udGV4dC5kcmF3KHRydWUsIGZ1bmN0aW9uKCl7XHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgIHd4LmNhbnZhc1RvVGVtcEZpbGVQYXRoKHtcclxuICAgICAgICBjYW52YXNJZDogXCJib3R0bGVJbWdcIixcclxuICAgICAgICBxdWFsaXR5OiAxLFxyXG4gICAgICAgIHN1Y2Nlc3MocmVzKSB7XHJcbiAgICAgICAgICB3eC5zYXZlSW1hZ2VUb1Bob3Rvc0FsYnVtKHtcclxuICAgICAgICAgICAgZmlsZVBhdGg6IHJlcy50ZW1wRmlsZVBhdGgsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3MoKSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLmiJDlip/kv53lrZhcIilcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZmFpbChyZXMpIHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZXJyTXNnKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIH0sIDMwMDApXHJcbiAgICB9KVxyXG59Il19
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Export = function () {
    var drawPic = function (context, url, quality) {
        var x = quality[0];
        var y = quality[1];
        var width = quality[2];
        var height = quality[3];
        wx.getImageInfo({
            src: url,
            success: function (res) {
                context.drawImage(res.path, x, y, width, height);
                context.draw(true);
            },
            fail: function (res) {
                console.log(res.errMsg);
            }
        });
    };
    var drawText = function (context, text, quality) {
        var x = quality[0];
        var y = quality[1];
        var width = quality[2];
        context.setFontSize(30);
        context.fillText(text, x, y, width);
    };
    var context = wx.createCanvasContext('bottleImg');
    var bottleUrl = "cloud://dxzsbottle-iu8cx.6478-dxzsbottle-iu8cx-1301327315/bottle.png";
    var picUrl = "cloud://dxzsbottle-iu8cx.6478-dxzsbottle-iu8cx-1301327315/1.png";
    var bottleHeight = 310;
    var bottleWidth = 200;
    var titleHeight = 300;
    var picWidth = 180;
    context.rect(0, 0, 1300, 4000);
    context.setFillStyle("white");
    context.fill();
    context.draw();
    for (var y = 1; y <= 6; ++y) {
        for (var x = 1; x <= 5; ++x) {
            drawPic(context, bottleUrl, [50 * x + bottleWidth * (x - 1), (bottleHeight + 100) * (y - 1) + titleHeight, bottleWidth, bottleHeight]);
            drawPic(context, picUrl, [50 * x + bottleWidth * (x - 1) + 5, (bottleHeight + 100) * (y - 1) + titleHeight + 100, picWidth, picWidth]);
            drawText(context, "有四个字", [50 * x + bottleWidth * (x - 1) + 40, (bottleHeight + 50) * y + 50 * (y - 1) + titleHeight, 150]);
        }
    }
    context.draw(true, function () {
        setTimeout(function () {
            wx.canvasToTempFilePath({
                canvasId: "bottleImg",
                quality: 1,
                success: function (res) {
                    wx.saveImageToPhotosAlbum({
                        filePath: res.tempFilePath,
                        success: function () {
                            console.log("成功保存");
                        },
                        fail: function (res) {
                            console.log(res.errMsg);
                        }
                    });
                }
            });
        }, 3000);
    });
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXhwb3J0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiZXhwb3J0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQWEsUUFBQSxNQUFNLEdBQUM7SUFDbEIsSUFBTSxPQUFPLEdBQUcsVUFBQyxPQUFzQixFQUFFLEdBQVcsRUFBRSxPQUFpQjtRQUNyRSxJQUFJLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUE7UUFDbEIsSUFBSSxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFBO1FBQ2xCLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQTtRQUN0QixJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUE7UUFDdkIsRUFBRSxDQUFDLFlBQVksQ0FBQztZQUNkLEdBQUcsRUFBRSxHQUFHO1lBQ1IsT0FBTyxFQUFFLFVBQVUsR0FBRztnQkFDcEIsT0FBTyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFBO2dCQUNoRCxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFBO1lBQ3BCLENBQUM7WUFDRCxJQUFJLEVBQUUsVUFBVSxHQUFHO2dCQUNqQixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQTtZQUN6QixDQUFDO1NBQ0YsQ0FBQyxDQUFBO0lBQ0osQ0FBQyxDQUFBO0lBQ0QsSUFBTSxRQUFRLEdBQUcsVUFBQyxPQUFzQixFQUFFLElBQVksRUFBRSxPQUFpQjtRQUN2RSxJQUFJLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUE7UUFDbEIsSUFBSSxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFBO1FBQ2xCLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQTtRQUN0QixPQUFPLENBQUMsV0FBVyxD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ZXhwb3J0IGNvbnN0IEV4cG9ydD0oKTogdm9pZCA9PntcclxuICBjb25zdCBkcmF3UGljID0gKGNvbnRleHQ6IENhbnZhc0NvbnRleHQsIHVybDogc3RyaW5nLCBxdWFsaXR5OiBudW1iZXJbXSk6IHZvaWQgPT57XHJcbiAgICBsZXQgeCA9IHF1YWxpdHlbMF1cclxuICAgIGxldCB5ID0gcXVhbGl0eVsxXVxyXG4gICAgbGV0IHdpZHRoID0gcXVhbGl0eVsyXVxyXG4gICAgbGV0IGhlaWdodCA9IHF1YWxpdHlbM11cclxuICAgIHd4LmdldEltYWdlSW5mbyh7XHJcbiAgICAgIHNyYzogdXJsLFxyXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UocmVzLnBhdGgsIHgsIHksIHdpZHRoLCBoZWlnaHQpXHJcbiAgICAgICAgY29udGV4dC5kcmF3KHRydWUpXHJcbiAgICAgIH0sXHJcbiAgICAgIGZhaWw6IGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhyZXMuZXJyTXNnKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cclxuICBjb25zdCBkcmF3VGV4dCA9IChjb250ZXh0OiBDYW52YXNDb250ZXh0LCB0ZXh0OiBzdHJpbmcsIHF1YWxpdHk6IG51bWJlcltdKTogdm9pZCA9PntcclxuICAgIGxldCB4ID0gcXVhbGl0eVswXVxyXG4gICAgbGV0IHkgPSBxdWFsaXR5WzFdXHJcbiAgICBsZXQgd2lkdGggPSBxdWFsaXR5WzJdXHJcbiAgICBjb250ZXh0LnNldEZvbnRTaXplKDMwKVxyXG4gICAgY29udGV4dC5maWxsVGV4dCh0ZXh0LCB4LCB5LCB3aWR0aClcclxuICAgIC8vY29udGV4dC5kcmF3KHRydWUpXHJcbiAgfVxyXG4gIGNvbnN0IGNvbnRleHQgPSB3eC5jcmVhdGVDYW52YXNDb250ZXh0KCdib3R0bGVJbWcnKVxyXG4gIGNvbnN0IGJvdHRsZVVybCA9IFwiY2xvdWQ6Ly9keHpzYm90dGxlLWl1OGN4LjY0NzgtZHh6c2JvdHRsZS1pdThjeC0xMzAxMzI3MzE1L2JvdHRsZS5wbmdcIlxyXG4gIGNvbnN0IHBpY1VybCA9IFwiY2xvdWQ6Ly9keHpzYm90dGxlLWl1OGN4LjY0NzgtZHh6c2JvdHRsZS1pdThjeC0xMzAxMzI3MzE1LzEucG5nXCJcclxuICBjb25zdCBib3R0bGVIZWlnaHQgPSAzMTBcclxuICBjb25zdCBib3R0bGVXaWR0aCA9IDIwMFxyXG4gIGNvbnN0IHRpdGxlSGVpZ2h0ID0gMzAwXHJcbiAgY29uc3QgcGljV2lkdGggPSAxODBcclxuXHJcbiAgY29udGV4dC5yZWN0KDAsIDAsIDEzMDAsIDQwMDApXHJcbiAgY29udGV4dC5zZXRGaWxsU3R5bGUoXCJ3aGl0ZVwiKVxyXG4gIGNvbnRleHQuZmlsbCgpXHJcbiAgY29udGV4dC5kcmF3KClcclxuXHJcbiAgZm9yKGxldCB5ID0gMTsgeSA8PSA2OyArK3kpe1xyXG4gICAgZm9yIChsZXQgeCA9IDE7IHggPD0gNTsgKyt4KSB7XHJcbiAgICAgIC8vdG9kbyDmoIfpophcclxuICAgICAgLy/nlLvnk7blrZBcclxuICAgICAgZHJhd1BpYyhjb250ZXh0LCBib3R0bGVVcmwsIFs1MCp4K2JvdHRsZVdpZHRoKih4LTEpLCAoYm90dGxlSGVpZ2h0KzEwMCkqKHktMSkrdGl0bGVIZWlnaHQsIGJvdHRsZVdpZHRoLCBib3R0bGVIZWlnaHRdKVxyXG4gICAgICBkcmF3UGljKGNvbnRleHQsIHBpY1VybCwgWzUwKngrYm90dGxlV2lkdGgqKHgtMSkrNSwgKGJvdHRsZUhlaWdodCsxMDApKih5LTEpK3RpdGxlSGVpZ2h0KzEwMCwgcGljV2lkdGgsIHBpY1dpZHRoXSlcclxuICAgICAgLy/nk7blrZDkuIvnmoTlrZdcclxuICAgICAgZHJhd1RleHQoY29udGV4dCwgXCLmnInlm5vkuKrlrZdcIiwgWzUwKngrYm90dGxlV2lkdGgqKHgtMSkrNDAsIChib3R0bGVIZWlnaHQrNTApKnkrNTAqKHktMSkrdGl0bGVIZWlnaHQsIDE1MF0pXHJcbiAgICB9XHJcbiAgfVxyXG4gIGNvbnRleHQuZHJhdyh0cnVlLCBmdW5jdGlvbigpe1xyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICB3eC5jYW52YXNUb1RlbXBGaWxlUGF0aCh7XHJcbiAgICAgICAgY2FudmFzSWQ6IFwiYm90dGxlSW1nXCIsXHJcbiAgICAgICAgcXVhbGl0eTogMSxcclxuICAgICAgICBzdWNjZXNzKHJlcykge1xyXG4gICAgICAgICAgd3guc2F2ZUltYWdlVG9QaG90b3NBbGJ1bSh7XHJcbiAgICAgICAgICAgIGZpbGVQYXRoOiByZXMudGVtcEZpbGVQYXRoLFxyXG4gICAgICAgICAgICBzdWNjZXNzKCkge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5oiQ5Yqf5L+d5a2YXCIpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZhaWwocmVzKSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmVyck1zZylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9LCAzMDAwKVxyXG4gICAgfSlcclxufSJdfQ==